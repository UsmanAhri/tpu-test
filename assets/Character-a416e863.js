import{d as y,j as S,k,l as b,m as h,n as v,p as w,o,c as r,t as d,e as c,u as t,f as F,F as C,g as I,_ as L}from"./index-6b041e3d.js";import{u as i}from"./useGetCharacterID-44841d6e.js";const N=["textContent"],B={key:1,class:"box"},A={class:"button-wrap"},D={class:"character-data"},J=["textContent"],O=["textContent"],R=y({__name:"Character",setup(V){const{params:{id:m}}=S(),f=k(),l=b(),_=h(()=>l.state.characters),g=h(()=>l.state.isLoading);let e=v(null);const u=v(new Set(JSON.parse(localStorage.getItem("favorites"))||[]));w(async()=>{_.value||await l.dispatch("getAllCharacters");const a=_.value.find(n=>i(n.url)===+m);a?e.value=a:await f.push({name:"404"})});const x=a=>{u.value.add(a),localStorage.setItem("favorites",JSON.stringify([...u.value]))};return(a,n)=>g.value?(o(),r("div",{key:0,textContent:d("Loading...")},null,8,N)):(o(),r("div",B,[c("div",A,[t(e)&&!u.value.has(t(i)(t(e).url))?(o(),r("button",{key:0,class:"button",textContent:"Add favorite",onClick:n[0]||(n[0]=p=>{var s;return x(t(i)(((s=t(e))==null?void 0:s.url)||""))})})):F("",!0)]),c("div",D,[(o(!0),r(C,null,I(t(e),(p,s)=>(o(),r(C,{key:s},[c("p",{class:"character-data__title",textContent:d(s.replace("_"," "))},null,8,J),c("p",{class:"character-data__value",textContent:d(p)},null,8,O)],64))),128))])]))}});const G=L(R,[["__scopeId","data-v-447d6e2d"]]);export{G as default};
