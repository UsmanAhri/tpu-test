import{i as k,p as b,q as S,s as _,x as I,r as N,o as e,c as o,u as a,t as n,F as h,e as t,n as w,f as F,w as L,y as O,z as j,g as A}from "./vendor.c13ca459.js";import{u}from "./useGetCharacterID.258f6075.js";import{_ as B}from "./index.356a1c8f.js";const D=i=>(O("data-v-4dc863d4"),i=i(),j(),i),J={class:"table-box"},V=["textContent"],G={key:0,class:"table"},H=D(()=>t("thead",null,[t("tr",null,[t("th",null,"Name"),t("th",null,"Height"),t("th",null,"Mass"),t("th",null,"Hair color"),t("th",null,"Actions")])],-1)),M={class:"table__character-name"},T=["textContent","onClick"],$=["textContent","onClick"],q=["textContent"],z=["textContent"],E=k({props:{displayOnlyFavorites:{default:!1}},setup(i){const f=i,l=b(new Set(JSON.parse(localStorage.getItem("favorites"))||[])),d=S(),m=_(()=>d.state.isLoading),c=_(()=>d.state.characters);I(()=>{c.value||d.dispatch("getAllCharacters")});const C=r=>{l.value.add(r),localStorage.setItem("favorites",JSON.stringify([...l.value]))},x=r=>{l.value.delete(r),localStorage.setItem("favorites",JSON.stringify([...l.value]))},p=_(()=>f.displayOnlyFavorites?c.value.filter(r=>l.value.has(u(r.url))):c.value);return(r,R)=>{var v;const y=N("router-link");return e(),o("div",J,[a(m)?(e(),o("div",{key:0,textContent:n("Loading...")},null,8,V)):((v=a(c))==null?void 0:v.length)?(e(),o(h,{key:1},[a(p).length?(e(),o("table",G,[H,t("tbody",null,[(e(!0),o(h,null,w(a(p),s=>(e(),o("tr",{key:s.url},[t("td",M,[F(y,{to:{name:"peoples.show",params:{id:a(u)(s.url)}}},{default:L(()=>[A(n(s.name),1)]),_:2},1032,["to"])]),t("td",null,n(s.height),1),t("td",null,n(s.mass),1),t("td",null,n(s.hair_color),1),t("td",null,[l.value.has(a(u)(s.url))?(e(),o("button",{key:0,textContent:n("Remove favorite"),class:"button button_w-100 button_red",onClick:g=>x(a(u)(s.url))},null,8,T)):(e(),o("button",{key:1,textContent:n("Add favorite"),class:"button button_w-100",onClick:g=>C(a(u)(s.url))},null,8,$))])]))),128))])])):(e(),o("p",{key:1,class:"info-text",textContent:n("You don't have any character in favorites!")},null,8,q))],64)):(e(),o("p",{key:2,class:"info-text",textContent:n("Nothing found!")},null,8,z))])}}});var Q=B(E,[["__scopeId","data-v-4dc863d4"]]);export{Q as C};
