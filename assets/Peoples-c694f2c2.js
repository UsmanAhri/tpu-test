import{C as m}from"./CharactersList-75b4e349.js";import{d,r as v,w as y,a as g,o as t,c as s,b as x,v as w,e as l,f as c,F as u,g as k,h as i,i as b,u as C,t as L,_ as p}from"./index-6b041e3d.js";import{u as I}from"./useGetCharacterID-44841d6e.js";const S={class:"search-box"},N={key:0,class:"search-box__results"},P={key:0},V={key:1},B={key:0},D={key:1,textContent:"Nothing found!"},T=d({__name:"SearchInput",setup(h){const e=v({isLoading:!1,characters:null,field:null,fetch:((a,o)=>{let n;return function(){clearTimeout(n),n=window.setTimeout(()=>{a.apply(this,arguments)},o)}})(async()=>{try{e.characters=null,e.isLoading=!0;const a=await fetch(`https://swapi.dev/api/people/?search=${e.field}`),{results:o}=await a.json();e.characters=o}catch(a){console.error("API error",a)}finally{e.isLoading=!1}},300)});return y(()=>e.field,a=>a?e.fetch():e.characters=null),(a,o)=>{var _;const n=g("router-link");return t(),s("div",S,[x(l("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=r=>e.field=r),placeholder:"Search..."},null,512),[[w,e.field]]),e.field&&(e.isLoading||e.characters)?(t(),s("div",N,[e.isLoading?(t(),s("p",P,"Loading...")):c("",!0),e.characters?(t(),s("div",V,[(_=e.characters)!=null&&_.length?(t(),s("ul",B,[(t(!0),s(u,null,k(e.characters,r=>(t(),s("li",{key:r.url},[i(n,{to:{name:"peoples.show",params:{id:C(I)(r.url)}},class:"search-box__character"},{default:b(()=>[l("h5",null,L(r.name),1)]),_:2},1032,["to"])]))),128))])):(t(),s("p",D))])):c("",!0)])):c("",!0)])}}});const $=p(T,[["__scopeId","data-v-814830ba"]]),F={class:"table-wrapper"},j=d({__name:"Peoples",setup(h){return(f,e)=>(t(),s(u,null,[i($),l("div",F,[i(m)])],64))}});const M=p(j,[["__scopeId","data-v-f9a8d13d"]]);export{M as default};
