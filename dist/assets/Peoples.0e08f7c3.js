import{C as y}from"./CharactersList.248bd235.js";import{i as d,j as x,k as g,r as k,o as s,c as a,l as w,v as C,u as t,e as l,m as i,F as p,n as L,f as _,w as b,t as h}from"./vendor.c13ca459.js";import{u as I}from"./useGetCharacterID.258f6075.js";import{_ as f}from"./index.356a1c8f.js";const j={class:"search-box"},S={key:0,class:"search-box__results"},D={key:0},N={key:1},V={key:0},B=["textContent"],P=d({setup(m){const e=x({isLoading:!1,characters:null,field:null,fetch:((r,o)=>{let c;return function(){clearTimeout(c),c=window.setTimeout(()=>{r.apply(this,arguments)},o)}})(async()=>{try{e.characters=null,e.isLoading=!0;const r=await fetch(`https://swapi.dev/api/people/?search=${e.field}`),{results:o}=await r.json();e.characters=o}catch(r){console.error("API error",r)}finally{e.isLoading=!1}},300)});return g(()=>e.field,r=>r?e.fetch():e.characters=null),(r,o)=>{var u;const c=k("router-link");return s(),a("div",j,[w(l("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=n=>t(e).field=n),placeholder:"Search..."},null,512),[[C,t(e).field]]),t(e).field&&(t(e).isLoading||t(e).characters)?(s(),a("div",S,[t(e).isLoading?(s(),a("p",D,"Loading...")):i("",!0),t(e).characters?(s(),a("div",N,[((u=t(e).characters)==null?void 0:u.length)?(s(),a("ul",V,[(s(!0),a(p,null,L(t(e).characters,n=>(s(),a("li",{key:n.url},[_(c,{to:{name:"peoples.show",params:{id:t(I)(n.url)}},class:"search-box__character"},{default:b(()=>[l("h5",null,h(n.name),1)]),_:2},1032,["to"])]))),128))])):(s(),a("p",{key:1,textContent:h("Nothing found!")},null,8,B))])):i("",!0)])):i("",!0)])}}});var T=f(P,[["__scopeId","data-v-a4d515ea"]]);const $={class:"table-wrapper"},F=d({setup(m){return(v,e)=>(s(),a(p,null,[_(T),l("div",$,[_(y)])],64))}});var U=f(F,[["__scopeId","data-v-31e95b26"]]);export{U as default};
